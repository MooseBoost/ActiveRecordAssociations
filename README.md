# ActiveRecordAssociations
A study of ActiveRecord's Associations and their generated methods.

####Questions: What methods are generated for each association type? What is the required database column in the matching table? How do the args passed to the `initialize` method affect the situation?

Experiment with three models. World, Character, PowerUp
 - World has many characters. Looking for `mushroom_kingdom.characters =>[...]`
 - Characters belong to a World. Looking for `mario.world => <#Mushroom_Kingdom Obj...>`
  
 - Character has many power ups. Looking for `mario.power_ups => [...]`
 - Power up has many characters. Looking for `fire_flower.characters => [...list of charcters that have this powerup]`
 
 - World has many powerups through characters. Looking for `mushroom_kingdom.power_ups => [...list of powerups from all characters]`
 - Power up belongs to world. Looking for `fire_flower.world => <#Mushroom_kingdom Obj>`

World:
```ruby
class World < ActiveRecord::Base
  has_many :characters
end
```

Create and corresponding table with a column for the name of the world.
`rake db:create_migration NAME=create_worlds_table`

Note the plural version of the class is used for the table.
```ruby
class CreateWorldTable < ActiveRecord::Migration
  def change
    create_table :worlds do |t|
      t.string :name
    end
  end
end
```
`rake db:migrate`
`db/schema.rb` now has this:

```ruby
ActiveRecord::Schema.define(version: 20160405222201) do

  create_table "worlds", force: :cascade do |t|
    t.string "name"
  end

end
```
Fire up `tux`.

Let's create a world that has no name. It is a simple instance, with no attributes.
```ruby
>> nameless_world = World.create
D, [2016-04-05T22:33:05.639088 #3388] DEBUG -- :    (0.2ms)  begin transaction
D, [2016-04-05T22:33:05.644635 #3388] DEBUG -- :   SQL (0.5ms)  INSERT INTO "worlds" DEFAULT VALUES
D, [2016-04-05T22:33:05.657346 #3388] DEBUG -- :    (12.0ms)  commit transaction
=> #<World id: 1, name: nil>
```
```ruby
nameless_world_methods = nameless_world.methods.map {|method| method.to_s}.sort!
nameless_world_methods.each {|m| puts m}
```
###Instance Methods for World

!
!=
!~
<=>
==
===
=~
[]
[]=
__binding__
__id__
__send__
_commit_callbacks
_commit_callbacks?
_create_callbacks
_create_callbacks?
_destroy
_destroy_callbacks
_destroy_callbacks?
_find_callbacks
_find_callbacks?
_initialize_callbacks
_initialize_callbacks?
_read_attribute
_reflections
_reflections?
_rollback_callbacks
_rollback_callbacks?
_run_commit_callbacks
_run_create_callbacks
_run_destroy_callbacks
_run_find_callbacks
_run_initialize_callbacks
_run_rollback_callbacks
_run_save_callbacks
_run_touch_callbacks
_run_update_callbacks
_run_validate_callbacks
_run_validation_callbacks
_save_callbacks
_save_callbacks?
_touch_callbacks
_touch_callbacks?
_update_callbacks
_update_callbacks?
_validate_callbacks
_validate_callbacks?
_validation_callbacks
_validation_callbacks?
_validators
_validators?
acts_like?
actually_destroyed?
add_to_transaction
after_add_for_characters
after_add_for_characters=
after_add_for_characters?
after_remove_for_characters
after_remove_for_characters=
after_remove_for_characters?
aggregate_reflections
aggregate_reflections?
arel_attributes_with_values_for_create
arel_attributes_with_values_for_update
as_json
assign_attributes
association
association_cache
attribute_aliases
attribute_aliases?
attribute_changed?
attribute_changed_in_place?
attribute_for_inspect
attribute_method?
attribute_method_matchers
attribute_method_matchers?
attribute_missing
attribute_names
attribute_present?
attribute_was
attributes
attributes=
attributes_before_type_cast
attributes_changed_by_setter
autoload_all
autoload_rel
autosave_associated_records_for_characters
becomes
becomes!
before_add_for_characters
before_add_for_characters=
before_add_for_characters?
before_remove_for_characters
before_remove_for_characters=
before_remove_for_characters?
blank?
cache_key
cache_timestamp_format
cache_timestamp_format?
capture
changed
changed?
changed_attributes
changed_for_autosave?
changes
changes_applied
character_ids
character_ids=
characters
characters=
class
class_eval
clear_aggregation_cache
clear_association_cache
clear_changes_information
clear_destroy_state
clear_transaction_record_state
clone
clone_attribute_value
column_for_attribute
committed!
connection_handler
decrement
decrement!
deep_dup
default_connection_handler
default_connection_handler?
default_scopes
default_timezone
define_singleton_method
defined_enums
defined_enums?
delete
destroy
destroy!
destroyed?
destroyed_by_association
destroyed_by_association=
display
dump_schema_after_migration
dup
duplicable?
enable_warnings
encode_with
enum_for
eql?
equal?
errors
extend
find_by_statement_cache
find_by_statement_cache=
find_by_statement_cache?
force_clear_transaction_record_state
freeze
from_json
from_xml
frozen?
gem
has_attribute?
hash
id
id=
id?
id_before_type_cast
id_came_from_user?
id_change
id_changed?
id_was
id_will_change!
include_root_in_json
include_root_in_json?
increment
increment!
init_with
initialize_internals_callback
inspect
instance_eval
instance_exec
instance_of?
instance_values
instance_variable_defined?
instance_variable_get
instance_variable_names
instance_variable_set
instance_variables
invalid?
is_a?
itself
kind_of?
load_all
load_dependency
load_rel
lock!
lock_optimistically
lock_optimistically?
locking_enabled?
logger
mark_for_destruction
marked_for_destruction?
method
method_missing
methods
model_name
name
name=
name?
name_before_type_cast
name_came_from_user?
name_change
name_changed?
name_was
name_will_change!
nested_attributes_options
nested_attributes_options?
new_record?
nil?
no_touching?
object_id
partial_writes
partial_writes?
perform_validations
persistable_attribute_names
persisted?
pluralize_table_names
pluralize_table_names?
populate_with_current_scope_attributes
presence
present?
pretty_inspect
pretty_print
pretty_print_cycle
pretty_print_inspect
pretty_print_instance_variables
previous_changes
primary_key_prefix_type
private_methods
protected_methods
pry
psych_to_yaml
public_method
public_methods
public_send
query_attribute
quietly
quoted_id
raise_in_transactional_callbacks
raise_record_invalid
read_attribute
read_attribute_before_type_cast
read_attribute_for_serialization
read_attribute_for_validation
read_store_attribute
readonly!
readonly?
record_timestamps
record_timestamps=
record_timestamps?
reload
remember_transaction_record_state
remove_instance_variable
require_all
require_dependency
require_or_load
require_rel
reset_id!
reset_name!
respond_to?
respond_to_without_attributes?
restore_attributes
restore_id!
restore_name!
restore_transaction_record_state
rollback_active_record_state!
rolledback!
run_callbacks
run_validations!
sanitize_for_mass_assignment
sanitize_forbidden_attributes
save
save!
schema_format
send
serializable_hash
silence
silence_stderr
silence_stream
silence_warnings
singleton_class
singleton_method
singleton_methods
skip_time_zone_conversion_for_attributes
skip_time_zone_conversion_for_attributes?
slice
store_full_sti_class
store_full_sti_class?
suppress
table_name_prefix
table_name_prefix?
table_name_suffix
table_name_suffix?
taint
tainted?
tap
time_zone_aware_attributes
timestamped_migrations
to_enum
to_json
to_json_with_active_support_encoder
to_json_without_active_support_encoder
to_key
to_model
to_param
to_partial_path
to_query
to_s
to_xml
to_yaml
to_yaml_properties
toggle
toggle!
touch
transaction
transaction_include_any_action?
transaction_record_state
trust
try
try!
type_for_attribute
unloadable
untaint
untrust
untrusted?
update
update!
update_attribute
update_attributes
update_attributes!
update_column
update_columns
valid?
validate
validate!
validate_associated_records_for_characters
validates_absence_of
validates_acceptance_of
validates_confirmation_of
validates_exclusion_of
validates_format_of
validates_inclusion_of
validates_length_of
validates_numericality_of
validates_presence_of
validates_size_of
validates_with
validation_context
with_lock
with_transaction_returning_status
with_warnings
write_store_attribute

###Class Methods for World
```ruby
>> world_methods = World.methods.map {|method| method.to_s}.sort!
>> world_methods.each {|m| puts m}
```
!
!=
!~
<
<=
<=>
==
===
=~
>
>=
__binding__
__id__
__send__
__update_callbacks
_attr_readonly
_attr_readonly=
_attr_readonly?
_commit_callbacks
_commit_callbacks=
_commit_callbacks?
_create_callbacks
_create_callbacks=
_create_callbacks?
_default_attributes
_destroy_callbacks
_destroy_callbacks=
_destroy_callbacks?
_find_callbacks
_find_callbacks=
_find_callbacks?
_initialize_callbacks
_initialize_callbacks=
_initialize_callbacks?
_parse_validates_options
_reflect_on_association
_reflections
_reflections=
_reflections?
_rollback_callbacks
_rollback_callbacks=
_rollback_callbacks?
_save_callbacks
_save_callbacks=
_save_callbacks?
_store_accessors_module
_to_partial_path
_touch_callbacks
_touch_callbacks=
_touch_callbacks?
_update_callbacks
_update_callbacks=
_update_callbacks?
_validate_callbacks
_validate_callbacks=
_validate_callbacks?
_validates_default_keys
_validation_callbacks
_validation_callbacks=
_validation_callbacks?
_validators
_validators=
_validators?
abstract_class
abstract_class=
abstract_class?
accepts_nested_attributes_for
acts_like?
after_add_for_characters
after_add_for_characters=
after_add_for_characters?
after_commit
after_create
after_destroy
after_find
after_initialize
after_remove_for_characters
after_remove_for_characters=
after_remove_for_characters?
after_rollback
after_save
after_touch
after_update
after_validation
aggregate_reflections
aggregate_reflections=
aggregate_reflections?
alias_attribute
alias_method_chain
all
allocate
ancestors
anonymous?
any?
arel_engine
arel_table
around_create
around_destroy
around_save
around_update
as_json
attr_readonly
attribute
attribute_alias
attribute_alias?
attribute_aliases
attribute_aliases=
attribute_aliases?
attribute_method?
attribute_method_affix
attribute_method_matchers
attribute_method_matchers=
attribute_method_matchers?
attribute_method_prefix
attribute_method_suffix
attribute_names
attribute_type_decorations
attribute_type_decorations=
attribute_type_decorations?
attributes_builder
autoload
autoload?
autoload_all
autoload_rel
average
base_class
before_add_for_characters
before_add_for_characters=
before_add_for_characters?
before_create
before_destroy
before_remove_const
before_remove_for_characters
before_remove_for_characters=
before_remove_for_characters?
before_save
before_update
before_validation
belongs_to
benchmark
blank?
build_default_scope
cache
cache_attribute?
cache_attributes
cache_timestamp_format
cache_timestamp_format=
cache_timestamp_format?
cached_attributes
cached_attributes_deprecation_warning
calculate
capture
cattr_accessor
cattr_reader
cattr_writer
class
class_attribute
class_eval
class_exec
class_method_defined_within?
class_variable_defined?
class_variable_get
class_variable_set
class_variables
clear_active_connections!
clear_all_connections!
clear_cache!
clear_reflections_cache
clear_reloadable_connections!
clear_validators!
clone
collecting_queries_for_explain
column_defaults
column_for_attribute
column_names
column_types
columns
columns_hash
composed_of
compute_type
configurations
configurations=
connected?
connection
connection_config
connection_handler
connection_handler=
connection_id
connection_id=
connection_pool
const_defined?
const_get
const_missing
const_set
constants
content_columns
count
count_by_sql
create
create!
create_with
current_scope
current_scope=
dangerous_attribute_method?
dangerous_class_method?
decorate_attribute_type
decorate_matching_attribute_types
decrement_counter
deep_dup
default_connection_handler
default_connection_handler=
default_connection_handler?
default_scope
default_scoped
default_scopes
default_scopes=
default_timezone
default_timezone=
define_attribute_method
define_attribute_methods
define_callbacks
define_method_attribute
define_method_attribute=
define_model_callbacks
define_singleton_method
defined_enums
defined_enums=
defined_enums?
delegate
delete
delete_all
deprecate
deprecate_constant
descendants
descends_from_active_record?
destroy
destroy_all
direct_descendants
disable_implicit_join_references=
display
distinct
dump_schema_after_migration
dump_schema_after_migration=
dup
duplicable?
eager_load
enable_warnings
enum
enum_for
eql?
equal?
establish_connection
evaluate_default_scope
except
exec_explain
exists?
expand_hash_conditions_for_aggregates
extend
fifth
fifth!
find
find_by
find_by!
find_by_sql
find_by_statement_cache
find_by_statement_cache=
find_by_statement_cache?
find_each
find_in_batches
find_or_create_by
find_or_create_by!
find_or_initialize_by
finder_needs_type_condition?
first
first!
first_or_create
first_or_create!
first_or_initialize
forty_two
forty_two!
fourth
fourth!
freeze
from
frozen?
full_table_name_prefix
full_table_name_suffix
gem
generated_association_methods
generated_attribute_methods
get_callbacks
get_primary_key
group
guess_for_anonymous
has_and_belongs_to_many
has_many
has_one
has_secure_password
hash
having
human_attribute_name
i18n_scope
ids
ignore_default_scope=
ignore_default_scope?
include
include?
include_root_in_json
include_root_in_json=
include_root_in_json?
included_modules
includes
increment_counter
inheritance_column
inheritance_column=
initialize_find_by_cache
initialize_generated_modules
initialize_relation_delegate_cache
inspect
instance_eval
instance_exec
instance_method
instance_method_already_implemented?
instance_methods
instance_of?
instance_values
instance_variable_defined?
instance_variable_get
instance_variable_names
instance_variable_set
instance_variables
instantiate
is_a?
itself
joins
json_creatable?
kind_of?
last
last!
limit
load_all
load_dependency
load_rel
local_constants
local_stored_attributes
local_stored_attributes=
lock
lock_optimistically
lock_optimistically=
lock_optimistically?
locking_column
locking_column=
locking_enabled?
logger
logger=
lookup_ancestors
maintain_test_schema
maintain_test_schema=
many?
mattr_accessor
mattr_reader
mattr_writer
maximum
method
method_defined?
method_defined_within?
methods
methods_transplantable?
minimum
model_name
module_eval
module_exec
name
nested_attributes_options
nested_attributes_options=
nested_attributes_options?
new
nil?
no_touching
none
normalize_callback_params
object_id
offset
order
parent
parent_name
parents
partial_writes
partial_writes=
partial_writes?
persistable_attribute_names
pluck
pluralize_table_names
pluralize_table_names=
pluralize_table_names?
preload
prepend
presence
present?
pretty_inspect
pretty_print
pretty_print_cycle
pretty_print_inspect
pretty_print_instance_variables
primary_key
primary_key=
primary_key_prefix_type
primary_key_prefix_type=
private_class_method
private_constant
private_instance_methods
private_method_defined?
private_methods
protected_instance_methods
protected_method_defined?
protected_methods
pry
psych_to_yaml
psych_yaml_as
public_class_method
public_constant
public_instance_method
public_instance_methods
public_method
public_method_defined?
public_methods
public_send
qualified_const_defined?
qualified_const_get
qualified_const_set
quietly
quote_bound_value
quote_value
quoted_primary_key
quoted_table_name
raise_if_bind_arity_mismatch
raise_in_transactional_callbacks
raise_in_transactional_callbacks=
rake_extension
reachable?
readonly
readonly_attributes
record_timestamps
record_timestamps=
record_timestamps?
redefine_method
references
reflect_on_aggregation
reflect_on_all_aggregations
reflect_on_all_associations
reflect_on_all_autosave_associations
reflect_on_association
reflections
relation_delegate_class
remove_class_variable
remove_connection
remove_instance_variable
remove_possible_method
reorder
replace_bind_variable
replace_bind_variables
replace_named_bind_variables
require_all
require_dependency
require_or_load
require_rel
reset_callbacks
reset_column_information
reset_counters
reset_locking_column
reset_primary_key
reset_sequence_name
reset_table_name
respond_to?
retrieve_connection
rewhere
sanitize
sanitize_conditions
sanitize_sql
sanitize_sql_array
sanitize_sql_for_assignment
sanitize_sql_for_conditions
sanitize_sql_hash
sanitize_sql_hash_for_assignment
sanitize_sql_hash_for_conditions
sanitize_sql_like
schema_format
schema_format=
schema_migrations_table_name
schema_migrations_table_name=
schema_migrations_table_name?
scope
scope_attributes
scope_attributes?
second
second!
select
send
sequence_name
sequence_name=
serialize
serialized_attributes
set_callback
set_callbacks
silence
silence_stderr
silence_stream
silence_warnings
singleton_class
singleton_class?
singleton_method
singleton_methods
skip_callback
skip_time_zone_conversion_for_attributes
skip_time_zone_conversion_for_attributes=
skip_time_zone_conversion_for_attributes?
sqlite3_connection
sti_name
store
store_accessor
store_full_sti_class
store_full_sti_class=
store_full_sti_class?
stored_attributes
subclasses
sum
superclass
superclass_delegating_accessor
superclass_delegating_accessor_with_deprecation
superclass_delegating_accessor_without_deprecation
suppress
symbolized_base_class
symbolized_sti_name
table_exists?
table_name
table_name=
table_name_prefix
table_name_prefix=
table_name_prefix?
table_name_suffix
table_name_suffix=
table_name_suffix?
taint
tainted?
take
take!
tap
third
third!
time_zone_aware_attributes
time_zone_aware_attributes=
timestamped_migrations
timestamped_migrations=
to_enum
to_json
to_json_with_active_support_encoder
to_json_without_active_support_encoder
to_param
to_query
to_s
to_yaml
to_yaml_properties
transaction
trust
try
try!
type_for_attribute
uncached
undefine_attribute_methods
uniq
unloadable
unscope
unscoped
untaint
untrust
untrusted?
update
update_all
update_counters
user_provided_columns
user_provided_columns=
user_provided_columns?
user_provided_defaults
user_provided_defaults=
user_provided_defaults?
validate
validates
validates!
validates_absence_of
validates_acceptance_of
validates_associated
validates_confirmation_of
validates_each
validates_exclusion_of
validates_format_of
validates_inclusion_of
validates_length_of
validates_numericality_of
validates_presence_of
validates_size_of
validates_uniqueness_of
validates_with
validators
validators_on
where
with_warnings
yaml_as
yaml_tag







